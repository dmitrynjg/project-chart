(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{219:function(e,t,a){e.exports=a(434)},421:function(e,t){},423:function(e,t){},433:function(e,t,a){},434:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(41),c=a.n(o),l=a(25),u=a(26),i=a(29),d=a(28),m=a(27),s=Object(m.a)({typeChart:"Area",dataCurrency:[],dataCurrencyCurrent:[],currency:{title:"Dollar",unique_id:"R01235"},dateFrom:new Date(new Date-15552e6),dateTo:new Date}),f=a(9),p=function(e){var t=e.payload,a=e.label;return e.active?r.a.createElement("div",{className:"tooltip"},r.a.createElement("div",{className:"date"},"\u041a\u0443\u0440\u0441 \u043d\u0430 ",a),r.a.createElement("div",{className:"price-value"},"\u0426\u0435\u043d\u0430: ",t[0].value," \u20bd")):null},v=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=JSON.parse(JSON.stringify(s.dataCurrencyCurrent));return r.a.createElement("div",{className:"rate-currancy"},"Line"===s.typeChart&&r.a.createElement(f.g,null,r.a.createElement(f.f,{width:window.innerWidth,height:400,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(f.c,{strokeDasharray:"3 3"}),r.a.createElement(f.i,{dataKey:"$.Date"}),r.a.createElement(f.j,null),r.a.createElement(f.h,{content:r.a.createElement(p,null)}),r.a.createElement(f.d,null),r.a.createElement(f.e,{type:"monotone",dataKey:"Value",stroke:"#8884d8",activeDot:{r:6}}))),"Area"===s.typeChart&&r.a.createElement(f.g,null,r.a.createElement(f.b,{data:e,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(f.c,{strokeDasharray:"3 3"}),r.a.createElement(f.i,{dataKey:"$.Date"}),r.a.createElement(f.j,null),r.a.createElement(f.h,{content:r.a.createElement(p,null)}),r.a.createElement(f.a,{type:"monotone",dataKey:"Value",stroke:"#8884d8",fill:"#8884d8"}))))}}]),a}(r.a.Component),E=Object(m.b)(v),D=a(119),y=a.n(D),b=a(190),h=a(404),C=function(){var e=Object(b.a)(y.a.mark(function e(t){var a,n,r,o,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.text();case 5:if(n=e.sent,r=new h.Parser({explicitArray:!1}),o=[],r.parseString(n,function(e,t){o=t}),"Error in parameters"!==o.ValCurs)for(c=0;c<o.ValCurs.Record.length;c++)o.ValCurs.Record[c].Value=Number(o.ValCurs.Record[c].Value.replace(",","."));return e.abrupt("return",o.ValCurs);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=e.valueOf()+-6e4*(new Date).getTimezoneOffset();return new Date(t).toISOString().slice(0,10)},g=function(e){return(new Date).getFullYear()%4===0&&e++,{from:new Date(new Date-24*e*3600*1e3),to:new Date}},O=function(e,t,a){if("object"===typeof(e&&t&&a)){for(var n=[],r=0;r<a.length;r++){var o=a[r].$.Date.split(".");e<=new Date(o[2],o[1],o[0])&&new Date(o[2],o[1],o[0])<=t&&n.push(a[r])}return n}},j=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a),e=t.call(this);var n=(new Date).toLocaleDateString().replace(/[.]/g,"/"),r="/scripts/XML_dynamic.asp?date_req1=01/01/1970&date_req2=".concat(n,"&VAL_NM_RQ=").concat(s.currency.unique_id);return C(r).then(function(e){"object"===typeof e&&(s.dataCurrency=e.Record,s.dataCurrencyCurrent=O(s.dateFrom,s.dateTo,s.dataCurrency))}),e}return Object(u.a)(a,[{key:"loadData",value:function(){s.dateFrom<s.dateTo&&s.dateTo<=new Date&&(s.dataCurrencyCurrent=O(s.dateFrom,s.dateTo,s.dataCurrency))}},{key:"render",value:function(){var e=this,t=w(s.dateFrom),a=w(s.dateTo),n=w(new Date);return r.a.createElement("div",{className:"chart-tools"},r.a.createElement("div",{className:"chart-tools-dates"},r.a.createElement("span",null,"\u041a\u0443\u0440\u0441 \u043e\u0442: "),r.a.createElement("input",{type:"date",id:"from",max:w(new Date-1),defaultValue:t,onChange:function(t){""!==t.target.value&&(new Date(t.target.value).getFullYear()>1970&&(s.loadChart=!0,s.dateFrom=new Date(t.target.value),e.loadData()))}}),r.a.createElement("span",null,"\u041a\u0443\u0440\u0441 \u0434\u043e: "),r.a.createElement("input",{type:"date",id:"to",min:w(new Date(new Date(t)+864e5)),max:n,defaultValue:a,onChange:function(t){""!==t.target.value&&(new Date(t.target.value).getFullYear()>1970&&(s.loadChart=!0,s.dateTo=new Date(t.target.value),e.loadData()))}})),r.a.createElement("div",{className:"chart-tools-interval"},r.a.createElement("button",{onClick:function(){var t=g(7);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"7d"),r.a.createElement("button",{onClick:function(){var t=g(14);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"14d"),r.a.createElement("button",{onClick:function(){var t=g(30);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"30d"),r.a.createElement("button",{onClick:function(){var t=g(60);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"60d"),r.a.createElement("button",{onClick:function(){var t=g(90);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"90d"),r.a.createElement("button",{onClick:function(){var t=g(180);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"180d"),r.a.createElement("button",{onClick:function(){var t=g(365);s.dateFrom=t.from,s.dateTo=t.to,e.loadData()}},"1y"),r.a.createElement("button",{onClick:function(){var t=Math.round(((new Date).getTime()-new Date("1980-01-01"))/24/3600/1e3),a=g(t);s.dateFrom=a.from,s.dateTo=a.to,e.loadData()}},"Max")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return s.typeChart="Line"}},"Line"),r.a.createElement("button",{onClick:function(e){return s.typeChart="Area"}},"Area")))}}]),a}(r.a.Component),k=Object(m.b)(j),F=(a(433),function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"rate-currancy"},r.a.createElement("h2",null,"\u041a\u0443\u0440\u0441 ",s.currency.title," c ",s.dateFrom.toLocaleDateString()," \u043f\u043e ",s.dateTo.toLocaleDateString()),r.a.createElement(k,null),r.a.createElement(E,null))}}]),a}(r.a.Component)),T=Object(m.b)(F),N=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),N)}},[[219,1,2]]]);
//# sourceMappingURL=main.3452eacd.chunk.js.map