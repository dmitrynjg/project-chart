(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{218:function(e,t,a){e.exports=a(429)},417:function(e,t){},419:function(e,t){},429:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(41),c=a.n(l),o=a(25),u=a(26),i=a(29),d=a(28),s=a(27),m=Object(s.a)({typeChart:"Area",loadChart:!1,dataCurrency:[],currency:{title:"Dollar",unique_id:"R01235"},dateFrom:new Date(new Date-15552e6),dateTo:new Date}),D=a(10),f=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=JSON.parse(JSON.stringify(m.dataCurrency));return r.a.createElement("div",null,!0===m.loadChart&&r.a.createElement("div",null,r.a.createElement("span",null,"Loading...")),"Line"===m.typeChart&&r.a.createElement(D.f,{width:window.innerWidth,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(D.c,{strokeDasharray:"3 3"}),r.a.createElement(D.h,{dataKey:"$.Date"}),r.a.createElement(D.i,null),r.a.createElement(D.g,null),r.a.createElement(D.d,null),r.a.createElement(D.e,{type:"monotone",dataKey:"Value",stroke:"#8884d8",activeDot:{r:6}})),"Area"===m.typeChart&&r.a.createElement(D.b,{width:window.innerWidth,height:400,data:e,margin:{top:10,right:30,left:0,bottom:0}},r.a.createElement(D.c,{strokeDasharray:"3 3"}),r.a.createElement(D.h,{dataKey:"$.Date"}),r.a.createElement(D.i,null),r.a.createElement(D.g,null),r.a.createElement(D.a,{type:"monotone",dataKey:"Value",stroke:"#8884d8",fill:"#8884d8"})))}}]),a}(r.a.Component),g=Object(s.b)(f),p=a(118),h=a.n(p),E=a(188),b=a(400),y=function(){var e=Object(E.a)(h.a.mark(function e(t,a){var n,r,l,c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"function"===typeof a&&a(),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.text();case 6:if(r=e.sent,new b.Parser({explicitArray:!1}).parseString(r,function(e,t){l=t}),"Error in parameters"===l.ValCurs){e.next=14;break}for(c=0;c<l.ValCurs.Record.length;c++)l.ValCurs.Record[c].Value=Number(l.ValCurs.Record[c].Value.replace(",","."));return e.abrupt("return",l.ValCurs);case 14:return e.abrupt("return",l.ValCurs);case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),v=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),e=t.call(this),0===m.dataCurrency.length&&e.loadData(),e}return Object(u.a)(a,[{key:"setRangeDates",value:function(e){(new Date).getFullYear()%4===0&&e++,m.dateFrom=new Date(new Date-24*e*3600*1e3),m.dateTo=new Date}},{key:"loadData",value:function(){if((m.dateFrom&&m.dateTo)<=new Date&&m.dateTo>m.dateFrom){var e=m.dateFrom.toLocaleDateString().replace(/[.]/g,"/"),t=m.dateTo.toLocaleDateString().replace(/[.]/g,"/"),a="/scripts/XML_dynamic.asp?date_req1=".concat(e,"&date_req2=").concat(t,"&VAL_NM_RQ=").concat(m.currency.unique_id);m.loadChart=!0,y(a).then(function(e){"object"===typeof e&&(m.dataCurrency=e.Record)}),m.loadChart=!1}}},{key:"getISODate",value:function(e){var t=e.valueOf()+-6e4*(new Date).getTimezoneOffset();return new Date(t).toISOString().slice(0,10)}},{key:"render",value:function(){var e=this,t=this.getISODate(m.dateFrom),a=this.getISODate(m.dateTo),n=this.getISODate(new Date);return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",null,"\u041a\u0443\u0440\u0441 \u043e\u0442: "),r.a.createElement("input",{type:"date",id:"from",min:"1992-07-01",max:this.getISODate(new Date-1),defaultValue:t,onChange:function(t){""!==t.target.value&&(new Date(t.target.value).getFullYear()>1970&&(m.dateFrom=new Date(t.target.value),e.loadData()))}}),r.a.createElement("span",null,"\u041a\u0443\u0440\u0441 \u0434\u043e: "),r.a.createElement("input",{type:"date",id:"to",min:this.getISODate(new Date(new Date(t)+2)),max:n,defaultValue:a,onChange:function(t){""!==t.target.value&&(new Date(t.target.value).getFullYear()>1970&&(m.dateTo=new Date(t.target.value),e.loadData()))}})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){e.setRangeDates(7),e.loadData()}},"7d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(14),e.loadData()}},"14d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(30),e.loadData()}},"30d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(60),e.loadData()}},"60d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(90),e.loadData()}},"90d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(180),e.loadData()}},"180d"),r.a.createElement("button",{onClick:function(t){e.setRangeDates(365),e.loadData()}},"1y")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){return m.typeChart="Line"}},"Line"),r.a.createElement("button",{onClick:function(e){return m.typeChart="Area"}},"Area")))}}]),a}(r.a.Component),w=Object(s.b)(v),C=function(e){Object(i.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"\u041a\u0443\u0440\u0441 ",m.currency.title," c ",m.dateFrom.toLocaleDateString()," \u043f\u043e ",m.dateTo.toLocaleDateString()),r.a.createElement(w,null),r.a.createElement(g,null))}}]),a}(r.a.Component),O=Object(s.b)(C),k=document.getElementById("root");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),k)}},[[218,1,2]]]);
//# sourceMappingURL=main.1b22bfae.chunk.js.map